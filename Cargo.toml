[workspace]
members = [
    "contracts/account-nft",
    "contracts/credit-manager",
    "contracts/swapper/*",
    "contracts/oracle-adapter",
    "packages/chains/*",
    "packages/health",
    "packages/outpost",
    "packages/rover",
    "packages/controllers",

    # Mock contracts
    "contracts/mock-oracle",
    "contracts/mock-red-bank",
    "contracts/mock-vault",
    "contracts/mock-zapper",
    "contracts/mock-credit-manager",
]

[workspace.package]
version       = "1.0.0"
authors       = [
    "grod220 <gabe.r@delphilabs.io>",
    "larry_0x <larry@delphidigital.io>",
    "Piotr Babel <piotr@delphilabs.io>",
]
edition       = "2021"
repository    = "https://github.com/mars-protocol/rover"
homepage      = "https://marsprotocol.io"
documentation = "https://docs.marsprotocol.io/"
keywords      = ["mars", "cosmos", "cosmwasm"]

[workspace.dependencies]
anyhow          = "1"
cosmwasm-schema = "1.1"
cosmwasm-std    = "1.1"
cw2             = "0.16"
cw721           = "0.16"
cw721-base      = { version = "0.16", features = ["library"] }
cw-item-set     = { version = "0.6", default-features = false, features = ["iterator"] }
cw-multi-test   = "0.16"
cw-utils        = "0.16"
cw-storage-plus = "0.16"
# FIXME: update with new version when osmosis-v13 branch merged to main branch
osmosis-std     = { rev = "fb79d48810cfa80f1f74dffc1e04f0775fe1e152", git = "https://github.com/osmosis-labs/osmosis-rust" }
schemars        = "0.8"
serde           = { version = "1.0", default-features = false, features = ["derive"] }
thiserror       = "1.0"

# packages
cosmwasm-vault-standard   = { version = "0.1.0", features = ["lockup", "force-unlock"] }
cw-controllers-admin-fork = { version = "1.0.0", path = "./packages/controllers" }
mars-health               = { version = "1.0.0", path = "./packages/health" }
mars-outpost              = { version = "1.0.0", path = "./packages/outpost" }
mars-rover                = { version = "1.0.0", path = "./packages/rover" }

# contracts
mars-account-nft    = { version = "1.0.0", path = "./contracts/account-nft", features = ["library"] }
mars-oracle-adapter = { version = "1.0.0", path = "contracts/oracle-adapter", features = ["library"] }
mars-swapper-base   = { version = "1.0.0", path = "./contracts/swapper/base" }

# mocks
mars-mock-credit-manager  = { version = "1.0.0", path = "./contracts/mock-credit-manager", features = ["library"] }
mars-mock-oracle          = { version = "1.0.0", path = "./contracts/mock-oracle", features = ["library"] }
mars-mock-red-bank        = { version = "1.0.0", path = "./contracts/mock-red-bank", features = ["library"] }
mars-mock-vault           = { version = "1.0.0", path = "./contracts/mock-vault", features = ["library"] }
mars-mock-zapper          = { version = "1.0.0", path = "./contracts/mock-zapper", features = ["library"] }
mars-swapper-mock         = { version = "1.0.0", path = "./contracts/swapper/mock", features = ["library"] }

[profile.release]
opt-level = 3
debug = false
rpath = false
lto = true
debug-assertions = false
codegen-units = 1
panic = 'abort'
incremental = false
overflow-checks = true
